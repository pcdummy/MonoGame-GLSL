Code from: http://indiegamers.com/threads/perlin-noise-voxel-engine-c.1014/